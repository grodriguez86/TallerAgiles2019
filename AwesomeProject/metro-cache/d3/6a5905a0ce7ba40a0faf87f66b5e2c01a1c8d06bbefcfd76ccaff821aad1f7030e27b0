{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"./utils/invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./utils/invariant\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var StateUtils = {\n    get: function get(state, key) {\n      return state.routes.find(function (route) {\n        return route.key === key;\n      }) || null;\n    },\n    indexOf: function indexOf(state, key) {\n      return state.routes.map(function (route) {\n        return route.key;\n      }).indexOf(key);\n    },\n    has: function has(state, key) {\n      return !!state.routes.some(function (route) {\n        return route.key === key;\n      });\n    },\n    push: function push(state, route) {\n      (0, _invariant.default)(StateUtils.indexOf(state, route.key) === -1, 'should not push route with duplicated key %s', route.key);\n      var routes = state.routes.slice();\n      routes.push(route);\n      return _objectSpread({}, state, {\n        index: routes.length - 1,\n        routes: routes\n      });\n    },\n    pop: function pop(state) {\n      if (state.index <= 0) {\n        return state;\n      }\n\n      var routes = state.routes.slice(0, -1);\n      return _objectSpread({}, state, {\n        index: routes.length - 1,\n        routes: routes\n      });\n    },\n    jumpToIndex: function jumpToIndex(state, index) {\n      if (index === state.index) {\n        return state;\n      }\n\n      (0, _invariant.default)(!!state.routes[index], 'invalid index %s to jump to', index);\n      return _objectSpread({}, state, {\n        index: index\n      });\n    },\n    jumpTo: function jumpTo(state, key) {\n      var index = StateUtils.indexOf(state, key);\n      return StateUtils.jumpToIndex(state, index);\n    },\n    back: function back(state) {\n      var index = state.index - 1;\n      var route = state.routes[index];\n      return route ? StateUtils.jumpToIndex(state, index) : state;\n    },\n    forward: function forward(state) {\n      var index = state.index + 1;\n      var route = state.routes[index];\n      return route ? StateUtils.jumpToIndex(state, index) : state;\n    },\n    replaceAt: function replaceAt(state, key, route) {\n      var index = StateUtils.indexOf(state, key);\n      return StateUtils.replaceAtIndex(state, index, route);\n    },\n    replaceAtIndex: function replaceAtIndex(state, index, route) {\n      (0, _invariant.default)(!!state.routes[index], 'invalid index %s for replacing route %s', index, route.key);\n\n      if (state.routes[index] === route) {\n        return state;\n      }\n\n      var routes = state.routes.slice();\n      routes[index] = route;\n      return _objectSpread({}, state, {\n        index: index,\n        routes: routes\n      });\n    },\n    reset: function reset(state, routes, index) {\n      (0, _invariant.default)(routes.length && Array.isArray(routes), 'invalid routes to replace');\n      var nextIndex = index === undefined ? routes.length - 1 : index;\n\n      if (state.routes.length === routes.length && state.index === nextIndex) {\n        var compare = function compare(route, ii) {\n          return routes[ii] === route;\n        };\n\n        if (state.routes.every(compare)) {\n          return state;\n        }\n      }\n\n      (0, _invariant.default)(!!routes[nextIndex], 'invalid index %s to reset', nextIndex);\n      return _objectSpread({}, state, {\n        index: nextIndex,\n        routes: routes\n      });\n    }\n  };\n  var _default = StateUtils;\n  exports.default = _default;\n});","map":[[11,0,1,0],[17,0,11,0],[17,6,11,6,"StateUtils"],[17,16,11,16],[17,19,11,19],[18,0,15,2,"get"],[18,4,15,2,"get"],[18,7,11,19],[18,22,15,6,"state"],[18,27,11,19],[18,29,15,13,"key"],[18,32,11,19],[18,34,15,18],[19,0,16,4],[19,13,16,11,"state"],[19,18,16,16],[19,19,16,17,"routes"],[19,25,16,11],[19,26,16,24,"find"],[19,30,16,11],[19,31,16,29],[19,41,16,29,"route"],[19,46,16,34],[20,0,16,34],[20,15,16,38,"route"],[20,20,16,43],[20,21,16,44,"key"],[20,24,16,38],[20,29,16,52,"key"],[20,32,16,34],[21,0,16,34],[21,7,16,11],[21,12,16,60],[21,16,16,4],[22,0,17,3],[22,5,11,19],[23,0,23,2,"indexOf"],[23,4,23,2,"indexOf"],[23,11,11,19],[23,30,23,10,"state"],[23,35,11,19],[23,37,23,17,"key"],[23,40,11,19],[23,42,23,22],[24,0,24,4],[24,13,24,11,"state"],[24,18,24,16],[24,19,24,17,"routes"],[24,25,24,11],[24,26,24,24,"map"],[24,29,24,11],[24,30,24,28],[24,40,24,28,"route"],[24,45,24,33],[25,0,24,33],[25,15,24,37,"route"],[25,20,24,42],[25,21,24,43,"key"],[25,24,24,33],[26,0,24,33],[26,7,24,11],[26,9,24,48,"indexOf"],[26,16,24,11],[26,17,24,56,"key"],[26,20,24,11],[26,21,24,4],[27,0,25,3],[27,5,11,19],[28,0,31,2,"has"],[28,4,31,2,"has"],[28,7,11,19],[28,22,31,6,"state"],[28,27,11,19],[28,29,31,13,"key"],[28,32,11,19],[28,34,31,18],[29,0,32,4],[29,13,32,11],[29,14,32,12],[29,15,32,13,"state"],[29,20,32,18],[29,21,32,19,"routes"],[29,27,32,13],[29,28,32,26,"some"],[29,32,32,13],[29,33,32,31],[29,43,32,31,"route"],[29,48,32,36],[30,0,32,36],[30,15,32,40,"route"],[30,20,32,45],[30,21,32,46,"key"],[30,24,32,40],[30,29,32,54,"key"],[30,32,32,36],[31,0,32,36],[31,7,32,13],[31,8,32,4],[32,0,33,3],[32,5,11,19],[33,0,40,2,"push"],[33,4,40,2,"push"],[33,8,11,19],[33,24,40,7,"state"],[33,29,11,19],[33,31,40,14,"route"],[33,36,11,19],[33,38,40,21],[34,0,41,4],[34,30,42,6,"StateUtils"],[34,40,42,16],[34,41,42,17,"indexOf"],[34,48,42,6],[34,49,42,25,"state"],[34,54,42,6],[34,56,42,32,"route"],[34,61,42,37],[34,62,42,38,"key"],[34,65,42,6],[34,71,42,47],[34,72,42,48],[34,73,41,4],[34,75,43,6],[34,121,41,4],[34,123,44,6,"route"],[34,128,44,11],[34,129,44,12,"key"],[34,132,41,4],[35,0,47,4],[35,10,47,10,"routes"],[35,16,47,16],[35,19,47,19,"state"],[35,24,47,24],[35,25,47,25,"routes"],[35,31,47,19],[35,32,47,32,"slice"],[35,37,47,19],[35,39,47,4],[36,0,48,4,"routes"],[36,6,48,4,"routes"],[36,12,48,10],[36,13,48,11,"push"],[36,17,48,4],[36,18,48,16,"route"],[36,23,48,4],[37,0,50,4],[37,31,51,9,"state"],[37,36,50,4],[38,0,52,6,"index"],[38,8,52,6,"index"],[38,13,52,11],[38,15,52,13,"routes"],[38,21,52,19],[38,22,52,20,"length"],[38,28,52,13],[38,31,52,29],[38,32,50,4],[39,0,53,6,"routes"],[39,8,53,6,"routes"],[39,14,53,12],[39,16,53,6,"routes"],[40,0,50,4],[41,0,55,3],[41,5,11,19],[42,0,62,2,"pop"],[42,4,62,2,"pop"],[42,7,11,19],[42,22,62,6,"state"],[42,27,11,19],[42,29,62,13],[43,0,63,4],[43,10,63,8,"state"],[43,15,63,13],[43,16,63,14,"index"],[43,21,63,8],[43,25,63,23],[43,26,63,4],[43,28,63,26],[44,0,65,6],[44,15,65,13,"state"],[44,20,65,6],[45,0,66,5],[47,0,67,4],[47,10,67,10,"routes"],[47,16,67,16],[47,19,67,19,"state"],[47,24,67,24],[47,25,67,25,"routes"],[47,31,67,19],[47,32,67,32,"slice"],[47,37,67,19],[47,38,67,38],[47,39,67,19],[47,41,67,41],[47,42,67,42],[47,43,67,19],[47,44,67,4],[48,0,68,4],[48,31,69,9,"state"],[48,36,68,4],[49,0,70,6,"index"],[49,8,70,6,"index"],[49,13,70,11],[49,15,70,13,"routes"],[49,21,70,19],[49,22,70,20,"length"],[49,28,70,13],[49,31,70,29],[49,32,68,4],[50,0,71,6,"routes"],[50,8,71,6,"routes"],[50,14,71,12],[50,16,71,6,"routes"],[51,0,68,4],[52,0,73,3],[52,5,11,19],[53,0,78,2,"jumpToIndex"],[53,4,78,2,"jumpToIndex"],[53,15,11,19],[53,38,78,14,"state"],[53,43,11,19],[53,45,78,21,"index"],[53,50,11,19],[53,52,78,28],[54,0,79,4],[54,10,79,8,"index"],[54,15,79,13],[54,20,79,18,"state"],[54,25,79,23],[54,26,79,24,"index"],[54,31,79,4],[54,33,79,31],[55,0,80,6],[55,15,80,13,"state"],[55,20,80,6],[56,0,81,5],[58,0,83,4],[58,30,83,14],[58,31,83,15],[58,32,83,16,"state"],[58,37,83,21],[58,38,83,22,"routes"],[58,44,83,16],[58,45,83,29,"index"],[58,50,83,16],[58,51,83,4],[58,53,83,37],[58,82,83,4],[58,84,83,68,"index"],[58,89,83,4],[59,0,85,4],[59,31,86,9,"state"],[59,36,85,4],[60,0,87,6,"index"],[60,8,87,6,"index"],[60,13,87,11],[60,15,87,6,"index"],[61,0,85,4],[62,0,89,3],[62,5,11,19],[63,0,94,2,"jumpTo"],[63,4,94,2,"jumpTo"],[63,10,11,19],[63,28,94,9,"state"],[63,33,11,19],[63,35,94,16,"key"],[63,38,11,19],[63,40,94,21],[64,0,95,4],[64,10,95,10,"index"],[64,15,95,15],[64,18,95,18,"StateUtils"],[64,28,95,28],[64,29,95,29,"indexOf"],[64,36,95,18],[64,37,95,37,"state"],[64,42,95,18],[64,44,95,44,"key"],[64,47,95,18],[64,48,95,4],[65,0,96,4],[65,13,96,11,"StateUtils"],[65,23,96,21],[65,24,96,22,"jumpToIndex"],[65,35,96,11],[65,36,96,34,"state"],[65,41,96,11],[65,43,96,41,"index"],[65,48,96,11],[65,49,96,4],[66,0,97,3],[66,5,11,19],[67,0,102,2,"back"],[67,4,102,2,"back"],[67,8,11,19],[67,24,102,7,"state"],[67,29,11,19],[67,31,102,14],[68,0,103,4],[68,10,103,10,"index"],[68,15,103,15],[68,18,103,18,"state"],[68,23,103,23],[68,24,103,24,"index"],[68,29,103,18],[68,32,103,32],[68,33,103,4],[69,0,104,4],[69,10,104,10,"route"],[69,15,104,15],[69,18,104,18,"state"],[69,23,104,23],[69,24,104,24,"routes"],[69,30,104,18],[69,31,104,31,"index"],[69,36,104,18],[69,37,104,4],[70,0,105,4],[70,13,105,11,"route"],[70,18,105,16],[70,21,105,19,"StateUtils"],[70,31,105,29],[70,32,105,30,"jumpToIndex"],[70,43,105,19],[70,44,105,42,"state"],[70,49,105,19],[70,51,105,49,"index"],[70,56,105,19],[70,57,105,16],[70,60,105,58,"state"],[70,65,105,4],[71,0,106,3],[71,5,11,19],[72,0,111,2,"forward"],[72,4,111,2,"forward"],[72,11,11,19],[72,30,111,10,"state"],[72,35,11,19],[72,37,111,17],[73,0,112,4],[73,10,112,10,"index"],[73,15,112,15],[73,18,112,18,"state"],[73,23,112,23],[73,24,112,24,"index"],[73,29,112,18],[73,32,112,32],[73,33,112,4],[74,0,113,4],[74,10,113,10,"route"],[74,15,113,15],[74,18,113,18,"state"],[74,23,113,23],[74,24,113,24,"routes"],[74,30,113,18],[74,31,113,31,"index"],[74,36,113,18],[74,37,113,4],[75,0,114,4],[75,13,114,11,"route"],[75,18,114,16],[75,21,114,19,"StateUtils"],[75,31,114,29],[75,32,114,30,"jumpToIndex"],[75,43,114,19],[75,44,114,42,"state"],[75,49,114,19],[75,51,114,49,"index"],[75,56,114,19],[75,57,114,16],[75,60,114,58,"state"],[75,65,114,4],[76,0,115,3],[76,5,11,19],[77,0,122,2,"replaceAt"],[77,4,122,2,"replaceAt"],[77,13,11,19],[77,34,122,12,"state"],[77,39,11,19],[77,41,122,19,"key"],[77,44,11,19],[77,46,122,24,"route"],[77,51,11,19],[77,53,122,31],[78,0,123,4],[78,10,123,10,"index"],[78,15,123,15],[78,18,123,18,"StateUtils"],[78,28,123,28],[78,29,123,29,"indexOf"],[78,36,123,18],[78,37,123,37,"state"],[78,42,123,18],[78,44,123,44,"key"],[78,47,123,18],[78,48,123,4],[79,0,124,4],[79,13,124,11,"StateUtils"],[79,23,124,21],[79,24,124,22,"replaceAtIndex"],[79,38,124,11],[79,39,124,37,"state"],[79,44,124,11],[79,46,124,44,"index"],[79,51,124,11],[79,53,124,51,"route"],[79,58,124,11],[79,59,124,4],[80,0,125,3],[80,5,11,19],[81,0,132,2,"replaceAtIndex"],[81,4,132,2,"replaceAtIndex"],[81,18,11,19],[81,44,132,17,"state"],[81,49,11,19],[81,51,132,24,"index"],[81,56,11,19],[81,58,132,31,"route"],[81,63,11,19],[81,65,132,38],[82,0,133,4],[82,30,134,6],[82,31,134,7],[82,32,134,8,"state"],[82,37,134,13],[82,38,134,14,"routes"],[82,44,134,8],[82,45,134,21,"index"],[82,50,134,8],[82,51,133,4],[82,53,135,6],[82,94,133,4],[82,96,136,6,"index"],[82,101,133,4],[82,103,137,6,"route"],[82,108,137,11],[82,109,137,12,"key"],[82,112,133,4],[84,0,140,4],[84,10,140,8,"state"],[84,15,140,13],[84,16,140,14,"routes"],[84,22,140,8],[84,23,140,21,"index"],[84,28,140,8],[84,34,140,32,"route"],[84,39,140,4],[84,41,140,39],[85,0,141,6],[85,15,141,13,"state"],[85,20,141,6],[86,0,142,5],[88,0,144,4],[88,10,144,10,"routes"],[88,16,144,16],[88,19,144,19,"state"],[88,24,144,24],[88,25,144,25,"routes"],[88,31,144,19],[88,32,144,32,"slice"],[88,37,144,19],[88,39,144,4],[89,0,145,4,"routes"],[89,6,145,4,"routes"],[89,12,145,10],[89,13,145,11,"index"],[89,18,145,10],[89,19,145,4],[89,22,145,20,"route"],[89,27,145,4],[90,0,147,4],[90,31,148,9,"state"],[90,36,147,4],[91,0,149,6,"index"],[91,8,149,6,"index"],[91,13,149,11],[91,15,149,6,"index"],[91,20,147,4],[92,0,150,6,"routes"],[92,8,150,6,"routes"],[92,14,150,12],[92,16,150,6,"routes"],[93,0,147,4],[94,0,152,3],[94,5,11,19],[95,0,159,2,"reset"],[95,4,159,2,"reset"],[95,9,11,19],[95,26,159,8,"state"],[95,31,11,19],[95,33,159,15,"routes"],[95,39,11,19],[95,41,159,23,"index"],[95,46,11,19],[95,48,159,30],[96,0,160,4],[96,30,161,6,"routes"],[96,36,161,12],[96,37,161,13,"length"],[96,43,161,6],[96,47,161,23,"Array"],[96,52,161,28],[96,53,161,29,"isArray"],[96,60,161,23],[96,61,161,37,"routes"],[96,67,161,23],[96,68,160,4],[96,70,162,6],[96,97,160,4],[97,0,165,4],[97,10,165,10,"nextIndex"],[97,19,165,19],[97,22,165,22,"index"],[97,27,165,27],[97,32,165,32,"undefined"],[97,41,165,22],[97,44,165,44,"routes"],[97,50,165,50],[97,51,165,51,"length"],[97,57,165,44],[97,60,165,60],[97,61,165,22],[97,64,165,64,"index"],[97,69,165,4],[99,0,167,4],[99,10,167,8,"state"],[99,15,167,13],[99,16,167,14,"routes"],[99,22,167,8],[99,23,167,21,"length"],[99,29,167,8],[99,34,167,32,"routes"],[99,40,167,38],[99,41,167,39,"length"],[99,47,167,8],[99,51,167,49,"state"],[99,56,167,54],[99,57,167,55,"index"],[99,62,167,49],[99,67,167,65,"nextIndex"],[99,76,167,4],[99,78,167,76],[100,0,168,6],[100,12,168,12,"compare"],[100,19,168,19],[100,22,168,22],[100,31,168,12,"compare"],[100,38,168,22],[100,39,168,23,"route"],[100,44,168,22],[100,46,168,30,"ii"],[100,48,168,22],[101,0,168,22],[101,17,168,37,"routes"],[101,23,168,43],[101,24,168,44,"ii"],[101,26,168,43],[101,27,168,37],[101,32,168,52,"route"],[101,37,168,22],[102,0,168,22],[102,9,168,6],[104,0,169,6],[104,12,169,10,"state"],[104,17,169,15],[104,18,169,16,"routes"],[104,24,169,10],[104,25,169,23,"every"],[104,30,169,10],[104,31,169,29,"compare"],[104,38,169,10],[104,39,169,6],[104,41,169,39],[105,0,170,8],[105,17,170,15,"state"],[105,22,170,8],[106,0,171,7],[107,0,172,5],[109,0,174,4],[109,30,174,14],[109,31,174,15],[109,32,174,16,"routes"],[109,38,174,22],[109,39,174,23,"nextIndex"],[109,48,174,22],[109,49,174,4],[109,51,174,35],[109,78,174,4],[109,80,174,64,"nextIndex"],[109,89,174,4],[110,0,176,4],[110,31,177,9,"state"],[110,36,176,4],[111,0,178,6,"index"],[111,8,178,6,"index"],[111,13,178,11],[111,15,178,13,"nextIndex"],[111,24,176,4],[112,0,179,6,"routes"],[112,8,179,6,"routes"],[112,14,179,12],[112,16,179,6,"routes"],[113,0,176,4],[114,0,181,3],[115,0,11,19],[115,3,11,0],[116,17,184,15,"StateUtils"],[116,27]]},"type":"js/module"}]}